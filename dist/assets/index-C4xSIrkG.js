(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function n(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=n(e);fetch(e.href,s)}})();class r{startTime=null;elapsedBeforePause=0;animationFrameId=null;renderCallback;boundUpdate;static MAX_ELAPSED=3540*1e3+59*1e3+999;constructor(t){this.renderCallback=t,this.boundUpdate=this.update.bind(this)}start(){this.isRunning()||(this.startTime=performance.now(),this.animationFrameId=requestAnimationFrame(this.boundUpdate))}pause(){this.isRunning()&&(this.elapsedBeforePause+=performance.now()-this.startTime,this.startTime=null,this.cancelAnimationFrame())}reset(){this.startTime=null,this.elapsedBeforePause=0,this.cancelAnimationFrame(),this.renderCallback(0)}update(){if(!this.isRunning())return;const t=performance.now();let n=this.elapsedBeforePause+(t-this.startTime);n>r.MAX_ELAPSED&&(n=r.MAX_ELAPSED,this.pause()),this.renderCallback(n),this.animationFrameId=requestAnimationFrame(this.boundUpdate)}cancelAnimationFrame(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}isRunning(){return this.startTime!==null}destroy(){this.cancelAnimationFrame(),this.startTime=null,this.elapsedBeforePause=0}}const l=[[1,1,1,1,1,1,0],[0,1,1,0,0,0,0],[1,1,0,1,1,0,1],[1,1,1,1,0,0,1],[0,1,1,0,0,1,1],[1,0,1,1,0,1,1],[1,0,1,1,1,1,1],[1,1,1,0,0,0,0],[1,1,1,1,1,1,1],[1,1,1,1,0,1,1]];function d(i,t="standard"){if(i===":")return'<div class="led-colon"><div></div><div></div></div>';if(i===".")return'<div class="led-dot led-dot--small led-dot--bottom"></div>';return n();function n(){const o=parseInt(i,10);if(isNaN(o))return"";const e=l[o];return`<div class="${["led-digit",...[t==="small"||t==="small-bottom"?"led-digit--small":void 0,t==="bottom"||t==="small-bottom"?"led-digit--bottom":void 0].filter(Boolean)].join(" ")}"><div class="segment horizontal top${e[0]?" on":""}"></div><div class="segment vertical top-right${e[1]?" on":""}"></div><div class="segment vertical bottom-right${e[2]?" on":""}"></div><div class="segment horizontal bottom${e[3]?" on":""}"></div><div class="segment vertical bottom-left${e[4]?" on":""}"></div><div class="segment vertical top-left${e[5]?" on":""}"></div><div class="segment horizontal middle${e[6]?" on":""}"></div></div>`}}function h(i){const t=c(i);return Array.from(t).map((n,o)=>o>=6?d(n,"small-bottom"):d(n)).join("")}function c(i){const n=Math.min(i,3599999),o=Math.floor(n%1e3),e=Math.floor(n/1e3%60);return`${Math.floor(n/6e4%60).toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}.${o.toString().padStart(3,"0")}`}class u{stopwatch;stopwatchDiv;container;resetBtn;boundOnContainerClick;boundOnResetClick;boundOnKeyDown;constructor(){const t=document.getElementById("stopwatch-container"),n=document.getElementById("stopwatch");if(!t||!n)throw new Error("StopwatchUI: required DOM elements not found (#stopwatch-container, #stopwatch)");this.container=t,this.stopwatchDiv=n;const o=document.getElementById("reset");this.resetBtn=o instanceof HTMLButtonElement?o:null,this.stopwatch=new r(this.render.bind(this)),this.boundOnContainerClick=this.onContainerClick.bind(this),this.boundOnResetClick=this.onResetClick.bind(this),this.boundOnKeyDown=this.onKeyDown.bind(this),this.attachEvents(),this.render(0)}render(t){const n=c(t);this.stopwatchDiv.innerHTML=h(t),this.stopwatchDiv.setAttribute("data-time",n),this.stopwatchDiv.setAttribute("aria-label",n)}onContainerClick(){this.stopwatch.isRunning()?this.stopwatch.pause():this.stopwatch.start()}onResetClick(t){t.stopPropagation(),this.stopwatch.reset()}onKeyDown(t){t.code==="Space"||t.key===" "?(t.preventDefault(),this.stopwatch.isRunning()?this.stopwatch.pause():this.stopwatch.start()):t.key==="Escape"&&this.stopwatch.reset()}attachEvents(){this.container.addEventListener("click",this.boundOnContainerClick),this.resetBtn&&this.resetBtn.addEventListener("click",this.boundOnResetClick),document.addEventListener("keydown",this.boundOnKeyDown)}destroy(){this.container.removeEventListener("click",this.boundOnContainerClick),this.resetBtn&&this.resetBtn.removeEventListener("click",this.boundOnResetClick),document.removeEventListener("keydown",this.boundOnKeyDown),this.stopwatch.destroy()}}function m(){return new u}if(typeof document<"u"){let i=null;const t=()=>{i=m(),window.addEventListener("beforeunload",()=>{i?.destroy(),i=null})};document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t()}
